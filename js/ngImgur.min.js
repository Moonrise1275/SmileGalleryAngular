(function(e){"use strict";var t=e.module("ngImgur",[]);t.constant("imgurOptions",{UPLOAD_URL:"https://api.imgur.com/3/image",UPLOAD_METHOD:"POST",API_KEY:""});t.service("imgur",["$window","$http","$q","imgurOptions",function(n,r,i,s){var o={};o.setAPIKey=function(t){s.API_KEY=t};o.upload=function(n){if(!s.API_KEY){throw"ngImgur: You must define your API key in `imgurOptions.API_KEY`."}if(!e.isArray(n)){return this.send(n)}var r=i.defer(),u=[];e.forEach(n,function(t){u.push(o.send(t))});i.all(u).then(function(t){r.resolve(t)});return r.promise};o.send=function(t){var o=new n.FileReader,u=i.defer();o.onload=function(t){var n=t.target.result.split(",")[1],i={Authorization:s.API_KEY},o={image:n};var a=r({url:s.UPLOAD_URL,method:s.UPLOAD_METHOD,headers:i,data:o});a.then(function(t){u.resolve(t.data.data)});a.error(function(){u.reject()})};o.readAsDataURL(t);return u.promise};return o}])})(window.angular)